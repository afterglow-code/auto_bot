# backtest_v2/config.py

# =========================================================
# [1. 기본 설정]
# =========================================================
# 백테스트 기간
START_DATE = '2020-01-01'
END_DATE = '2026-01-01'

# 초기 자본금
INITIAL_CAPITAL = 2000000  # 200만원

# 거래 비용
COMMISSION = 0.00015  # 수수료 (0.015%)
SLIPPAGE = 0.0015      # 슬리피지 (0.15%)

# =========================================================
# [2. 전략 선택]
# =========================================================
# 테스트할 전략을 선택합니다.
# 사용 가능한 값: 'ETF_KR', 'STOCK_KR', 'STOCK_US'
STRATEGY_TO_RUN = 'STOCK_KR'

# =========================================================
# [3. 상세 파라미터]
# =========================================================

# --- 공통 파라미터 ---
# 데이터 로딩 시 사용할 병렬 작업자 수
MAX_WORKERS = 10

# --- 전략별 파라미터 ---
PARAMS = {
    'ETF_KR': {
        'NAME': '한국 ETF 가중모멘텀',
        'UNIVERSE': {
            'KODEX 200': '069500',
            'KODEX 미국나스닥100TR': '379810',
            'ACE 미국S&P500': '360200',
            'KODEX 반도체': '091160',
            'KODEX 헬스케어': '266420',
            'KODEX 미국달러선물': '261240',
            'KODEX AI전력핵심설비': '487240',
            'ACE 구글벨류체인액티브': '483340',
            'PLUS K방산': '449170',
            'KODEX 미국30년국채액티브(H)': '484790',
            'KODEX 코스닥150': '229200',
        },
        'MARKET_INDEX': 'KS11',          # 시장 지수 (벤치마크)
        'DEFENSE_ASSET': 'KODEX 미국달러선물', # 방어 자산
        'MOMENTUM_WEIGHTS': (0.3, 0.3, 0.4), # 모멘텀 가중치 (1, 3, 6개월)
        'TOP_N': 2,                      # 투자 종목 수
        'MARKET_TIMING_MA': 60,         # 시장 타이밍용 이동평균선
    },
    'STOCK_KR': {
        'NAME': '한국 개별주 변동성조절 모멘텀',
        'UNIVERSE': {
            'KOSPI_TOP_N': 200,
            'KOSDAQ_TOP_N': 150,
        },
        'MARKET_INDEX': 'KS11',
        'DEFENSE_ASSET': 'KODEX 미국달러선물',
        'TOP_N': 3,
        'MARKET_TIMING_MA': 60,
    },
    'STOCK_US': {
        'NAME': '미국 주식 가중모멘텀',
        'UNIVERSE': {
            'SP500_TOP_N': 200,
        },
        'MARKET_INDEX': 'SPY',
        'DEFENSE_ASSET': 'BIL',
        'MOMENTUM_WEIGHTS': (0.3, 0.3, 0.4),
        'TOP_N': 3,
        'MARKET_TIMING_MA': 60,
    }
}

# =========================================================
# [4. 하이브리드(Active) 전략 파라미터]
# =========================================================
HYBRID_PARAMS = {
    'MAX_SLOTS': 3,            # 최대 보유 종목 수
    'TARGET_ATR_MULT': 3.0,    # 익절: ATR의 3배
    'STOP_LOSS_PCT': 0.05,     # 손절: -5%
    'BREAKEVEN_TRIGGER': 0.05, # 본전 설정 트리거: +5% 수익 시
    'VOL_MULT': 2.0,           # 거래량 급증 기준: 전일 대비 2배
    'ATR_WINDOW': 20,          # ATR 계산 기간
    'MOMENTUM_WINDOW': 10,     # 모멘텀 계산 기간
}